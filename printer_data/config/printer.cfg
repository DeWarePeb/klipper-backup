#####################################################################
#   File locations and on error handling
#####################################################################

[virtual_sdcard]
path: /home/pi/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

 
#####################################################################
#   Device ID's
#####################################################################
[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_290039000751303532383235-if00
restart_method: command

[mcu nhk]
serial: /dev/serial/by-id/usb-Klipper_rp2040_4D4A393336174370-if00
restart_method: command

[mcu scanner]
serial: /dev/serial/by-id/usb-Cartographer_614e_018016000F43304146393320-if00

#####################################################################
#   Basic Klipper and Printer setup
#####################################################################

[printer]
kinematics: corexy
max_velocity: 300  
max_accel: 10000
max_z_velocity: 15          
max_z_accel: 350
square_corner_velocity: 5.0

[exclude_object]
[print_stats]

[gcode_arcs]
resolution: 0.05

[idle_timeout]
timeout: 3600

[force_move]
enable_force_move: True


#####################################################################
#   Includes
#####################################################################

## Configuration files
[include mainsail.cfg]
[include config/stealthburner_leds.cfg]
[include config/extruder.cfg]
[include config/steppers.cfg]
[include config/temperature_sensors.cfg]
[include config/homing.cfg]
[include config/fans.cfg]
[include config/input_shaper.cfg]
[include config/disco.cfg]

## Macros
[include macros/movement_macros.cfg]
[include macros/LED_macros.cfg]
[include macros/printing_macros.cfg]
[include macros/print_start_end.cfg]
[include macros/misc_macro.cfg]

## Cartographer macro
[include macros/cartographer_macros.cfg]



[include moonraker_obico_macros.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 1250
#*# scanner_touch_speed = 3
#*# scanner_touch_z_offset = 0.000
#*#
#*# [scanner model default]
#*# model_coef = 1.4468685542699815,
#*# 	  1.8689265435612985,
#*# 	  0.7465462196087619,
#*# 	  0.382268436081243,
#*# 	  0.3564990368472725,
#*# 	  0.18126858123511747,
#*# 	  -0.2181488847515889,
#*# 	  -0.07864793009472709,
#*# 	  0.2198419360751847,
#*# 	  0.09958302099320591
#*# model_domain = 3.2486637752306673e-07,3.3443963411674715e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 47.749157
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.156169, 0.148605, 0.132133, 0.125464, 0.142418, 0.137928, 0.109406, 0.105454, 0.124321, 0.122094, 0.106689, 0.091994, 0.111154, 0.106129, 0.091130, 0.078208, 0.085233, 0.092678, 0.082749, 0.073609, 0.083210, 0.095706, 0.094381, 0.094603, 0.108642, 0.122339, 0.121265, 0.122336, 0.131142, 0.144864
#*# 	  0.148273, 0.141964, 0.135538, 0.123752, 0.116438, 0.113004, 0.110734, 0.099064, 0.095634, 0.098887, 0.101301, 0.093054, 0.082319, 0.082023, 0.084283, 0.077268, 0.068820, 0.072311, 0.080568, 0.072449, 0.065514, 0.080194, 0.096885, 0.105933, 0.091968, 0.111030, 0.131616, 0.140675, 0.121401, 0.127777
#*# 	  0.161839, 0.152878, 0.130664, 0.107388, 0.114562, 0.123704, 0.103734, 0.084430, 0.093162, 0.103902, 0.088301, 0.071322, 0.080756, 0.087514, 0.071309, 0.057897, 0.056312, 0.078624, 0.066791, 0.054950, 0.056747, 0.083834, 0.090172, 0.086535, 0.085835, 0.114939, 0.123944, 0.122683, 0.122157, 0.137396
#*# 	  0.139773, 0.132065, 0.119276, 0.108475, 0.105642, 0.103161, 0.092332, 0.082481, 0.081784, 0.083484, 0.083298, 0.068707, 0.069688, 0.071254, 0.068969, 0.054619, 0.052363, 0.068626, 0.068852, 0.049970, 0.050164, 0.063881, 0.079404, 0.075890, 0.073306, 0.095515, 0.116865, 0.116194, 0.110484, 0.131316
#*# 	  0.141726, 0.143544, 0.121341, 0.100686, 0.091870, 0.110854, 0.104811, 0.073423, 0.068610, 0.087904, 0.087464, 0.073391, 0.056092, 0.076762, 0.074443, 0.062406, 0.050527, 0.059610, 0.069954, 0.059451, 0.049902, 0.061901, 0.075936, 0.073450, 0.073632, 0.091540, 0.110251, 0.111375, 0.111157, 0.117601
#*# 	  0.147854, 0.138991, 0.123210, 0.115749, 0.111862, 0.109903, 0.099653, 0.087459, 0.088582, 0.090444, 0.082243, 0.073278, 0.074690, 0.078365, 0.069170, 0.060926, 0.065226, 0.071573, 0.061719, 0.052836, 0.062315, 0.074316, 0.078958, 0.066106, 0.084566, 0.102584, 0.111975, 0.101043, 0.109856, 0.138833
#*# 	  0.142637, 0.156626, 0.147574, 0.128599, 0.110152, 0.115270, 0.120277, 0.102165, 0.084452, 0.091926, 0.099229, 0.084869, 0.071316, 0.079328, 0.086359, 0.075264, 0.061912, 0.061626, 0.078541, 0.068310, 0.059673, 0.063251, 0.086882, 0.091986, 0.082831, 0.091188, 0.114817, 0.124074, 0.128265, 0.127021
#*# 	  0.157102, 0.147729, 0.135688, 0.129931, 0.128522, 0.117617, 0.107387, 0.105188, 0.102475, 0.099274, 0.085235, 0.082771, 0.089746, 0.087074, 0.074261, 0.072963, 0.076023, 0.078474, 0.064282, 0.064268, 0.072998, 0.083437, 0.082328, 0.079675, 0.095135, 0.111164, 0.111261, 0.112522, 0.131669, 0.147985
#*# 	  0.135508, 0.137534, 0.140209, 0.122066, 0.104373, 0.095571, 0.112831, 0.097547, 0.079421, 0.074700, 0.092440, 0.089782, 0.065324, 0.061909, 0.080571, 0.078252, 0.066787, 0.056042, 0.063670, 0.074572, 0.064796, 0.058467, 0.072509, 0.085262, 0.086752, 0.088702, 0.103856, 0.120048, 0.124088, 0.124151
#*# 	  0.121886, 0.109473, 0.102471, 0.095757, 0.091763, 0.082573, 0.073057, 0.072733, 0.071376, 0.063618, 0.057403, 0.058799, 0.059035, 0.049935, 0.042507, 0.045537, 0.052416, 0.045294, 0.038115, 0.043968, 0.050753, 0.052711, 0.045197, 0.051390, 0.076044, 0.085860, 0.078294, 0.088756, 0.106069, 0.122750
#*# 	  0.088589, 0.080341, 0.092679, 0.085392, 0.067962, 0.052336, 0.058329, 0.061645, 0.047902, 0.035954, 0.045123, 0.050754, 0.038490, 0.024138, 0.030627, 0.037041, 0.027638, 0.019202, 0.026298, 0.033710, 0.028323, 0.022342, 0.028929, 0.047267, 0.054831, 0.055407, 0.066918, 0.086420, 0.094880, 0.100094
#*# 	  0.083275, 0.073661, 0.067016, 0.059808, 0.056341, 0.045382, 0.043460, 0.040453, 0.038042, 0.030178, 0.029321, 0.033536, 0.029360, 0.019434, 0.014391, 0.016126, 0.019766, 0.015412, 0.011618, 0.017171, 0.024252, 0.020575, 0.019315, 0.031993, 0.047812, 0.051540, 0.055960, 0.074805, 0.092017, 0.093621
#*# 	  0.076510, 0.061292, 0.062512, 0.064347, 0.047354, 0.033360, 0.036897, 0.041029, 0.028949, 0.019589, 0.019335, 0.033749, 0.029680, 0.007126, 0.002694, 0.016508, 0.016937, 0.010019, 0.007177, 0.014769, 0.021736, 0.019540, 0.016834, 0.027893, 0.040110, 0.048023, 0.058746, 0.076699, 0.093584, 0.096910
#*# 	  0.075332, 0.067906, 0.061910, 0.054724, 0.048948, 0.043135, 0.037902, 0.033610, 0.028314, 0.026531, 0.027805, 0.025903, 0.020082, 0.012784, 0.010707, 0.012323, 0.008819, 0.007410, 0.012837, 0.019344, 0.021761, 0.016556, 0.020503, 0.032507, 0.041170, 0.044242, 0.058319, 0.080041, 0.100174, 0.103618
#*# 	  0.073842, 0.054602, 0.047665, 0.055064, 0.047969, 0.036094, 0.025616, 0.028262, 0.031223, 0.022138, 0.014455, 0.017065, 0.019672, 0.009460, 0.000270, 0.006424, 0.012263, 0.006456, 0.002509, 0.010836, 0.016092, 0.014503, 0.014598, 0.021820, 0.035830, 0.047425, 0.063246, 0.079620, 0.096148, 0.105967
#*# 	  0.061352, 0.054552, 0.046540, 0.040690, 0.034651, 0.029237, 0.024435, 0.021747, 0.015820, 0.013968, 0.013340, 0.012186, 0.006519, 0.003322, 0.001642, 0.003192, -0.000406, -0.002254, 0.001401, 0.005301, 0.004420, 0.002746, 0.011679, 0.022420, 0.030145, 0.041821, 0.063801, 0.084703, 0.095912, 0.103457
#*# 	  0.069191, 0.055924, 0.040707, 0.041909, 0.043115, 0.030904, 0.021287, 0.022805, 0.022114, 0.014642, 0.007665, 0.006938, 0.012473, 0.010987, -0.000668, -0.003349, 0.004128, 0.004790, 0.000163, 0.002109, 0.008017, 0.009783, 0.012089, 0.018367, 0.031919, 0.049528, 0.070106, 0.088305, 0.102285, 0.111517
#*# 	  0.070346, 0.061327, 0.051995, 0.045351, 0.040949, 0.037596, 0.032774, 0.028714, 0.024145, 0.019704, 0.017842, 0.015561, 0.014355, 0.012203, 0.010126, 0.008557, 0.006441, 0.007247, 0.009799, 0.012139, 0.012117, 0.014371, 0.020530, 0.028945, 0.039186, 0.057659, 0.078955, 0.097145, 0.110719, 0.119060
#*# 	  0.081926, 0.074829, 0.056718, 0.049111, 0.052797, 0.049654, 0.042830, 0.034828, 0.038638, 0.038267, 0.031882, 0.024108, 0.025515, 0.026471, 0.021350, 0.014982, 0.018707, 0.021924, 0.019812, 0.019731, 0.023118, 0.027630, 0.031062, 0.038965, 0.049081, 0.068419, 0.088039, 0.106570, 0.120447, 0.128451
#*# 	  0.092086, 0.082225, 0.072883, 0.070110, 0.064556, 0.056604, 0.055794, 0.055231, 0.051558, 0.050907, 0.047835, 0.047913, 0.043627, 0.040937, 0.036226, 0.035510, 0.036693, 0.035445, 0.035896, 0.039610, 0.040708, 0.043073, 0.047409, 0.053906, 0.062387, 0.079104, 0.097655, 0.116485, 0.131692, 0.142114
#*# 	  0.105823, 0.102150, 0.090831, 0.080558, 0.079164, 0.079287, 0.070073, 0.064137, 0.064087, 0.066522, 0.062430, 0.057192, 0.054460, 0.057376, 0.050218, 0.047699, 0.045300, 0.047047, 0.048644, 0.051289, 0.051602, 0.055083, 0.060146, 0.066311, 0.074757, 0.087748, 0.103475, 0.122470, 0.140754, 0.147813
#*# 	  0.107852, 0.096290, 0.094437, 0.091246, 0.082526, 0.075291, 0.073269, 0.072379, 0.066747, 0.061624, 0.061866, 0.064197, 0.059250, 0.053772, 0.049112, 0.050613, 0.050229, 0.045000, 0.049232, 0.056221, 0.057735, 0.062206, 0.068854, 0.073950, 0.079201, 0.092115, 0.105961, 0.120535, 0.135457, 0.146767
#*# 	  0.110382, 0.109105, 0.097976, 0.089186, 0.082307, 0.084181, 0.079510, 0.071093, 0.067891, 0.068885, 0.066627, 0.063504, 0.060289, 0.058800, 0.057406, 0.051929, 0.052432, 0.051982, 0.051331, 0.061654, 0.064325, 0.068231, 0.070853, 0.080959, 0.083409, 0.093807, 0.104583, 0.119890, 0.134819, 0.145615
#*# 	  0.115906, 0.107594, 0.111728, 0.104882, 0.089343, 0.084939, 0.089933, 0.085599, 0.079086, 0.071166, 0.073776, 0.076008, 0.068966, 0.061799, 0.063032, 0.064788, 0.059353, 0.056032, 0.060305, 0.068677, 0.072626, 0.070987, 0.075512, 0.090565, 0.085364, 0.094530, 0.105978, 0.124170, 0.134999, 0.134750
#*# 	  0.124240, 0.121534, 0.117465, 0.109686, 0.102729, 0.100023, 0.096200, 0.089328, 0.087122, 0.084346, 0.083617, 0.081846, 0.079510, 0.075881, 0.073540, 0.071743, 0.071183, 0.069135, 0.078032, 0.071183, 0.077419, 0.076655, 0.080563, 0.087087, 0.091137, 0.106379, 0.114240, 0.119353, 0.132203, 0.144961
#*# 	  0.120516, 0.121873, 0.122589, 0.110116, 0.097875, 0.098885, 0.100225, 0.089800, 0.079741, 0.085205, 0.088043, 0.081784, 0.074491, 0.068923, 0.077682, 0.078322, 0.064159, 0.064491, 0.078261, 0.077250, 0.068380, 0.064867, 0.076139, 0.085242, 0.085784, 0.092940, 0.108098, 0.121686, 0.125837, 0.127217
#*# 	  0.125265, 0.120531, 0.115117, 0.106497, 0.100175, 0.094406, 0.090847, 0.087495, 0.085422, 0.085884, 0.083028, 0.078974, 0.075009, 0.070749, 0.070123, 0.068568, 0.066441, 0.064196, 0.065907, 0.064424, 0.062067, 0.067445, 0.069765, 0.068819, 0.079084, 0.092830, 0.100962, 0.105742, 0.120549, 0.131682
#*# 	  0.135362, 0.140311, 0.133551, 0.111685, 0.105868, 0.115265, 0.108482, 0.099614, 0.088662, 0.093701, 0.099031, 0.089823, 0.079325, 0.083030, 0.087637, 0.078457, 0.069983, 0.075495, 0.082989, 0.079569, 0.069358, 0.075989, 0.084901, 0.081990, 0.082304, 0.091402, 0.112097, 0.122968, 0.120994, 0.125396
#*# 	  0.160910, 0.148986, 0.142332, 0.138378, 0.133731, 0.129913, 0.126793, 0.120842, 0.115048, 0.113756, 0.113073, 0.112790, 0.109584, 0.105045, 0.099723, 0.094490, 0.095466, 0.096757, 0.100241, 0.096598, 0.094497, 0.101380, 0.102495, 0.096738, 0.103344, 0.117569, 0.132637, 0.127544, 0.132102, 0.148991
#*# 	  0.182265, 0.173909, 0.160221, 0.155526, 0.156127, 0.156863, 0.151070, 0.144292, 0.140126, 0.142305, 0.138764, 0.136708, 0.130899, 0.131173, 0.124635, 0.115098, 0.114234, 0.118884, 0.117784, 0.120230, 0.120856, 0.122025, 0.122405, 0.120744, 0.120840, 0.134500, 0.146974, 0.148689, 0.149936, 0.161944
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 25.0
#*# max_x = 325.0
#*# min_y = 30.0
#*# max_y = 325.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 37.724
#*# pid_ki = 1.170
#*# pid_kd = 304.147
#*#
#*# [input_shaper]
#*# shaper_type_x = ei
#*# shaper_freq_x = 73.8
#*# shaper_type_y = mzv
#*# shaper_freq_y = 41.4
#*# damping_ratio_x = 0.044
#*# damping_ratio_y = 0.057
